<!doctype html>
<html lang="de">

  <head>
    <meta charset="utf-8">

    <title>Der neue Personalausweis</title>

    <meta name="description" content="Seminar Chipkartentechnologien: Der neue Personalausweis">
    <meta name="author" content="Simon Hohberg">

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <link rel="stylesheet" href="css/theme/fu-berlin.css" id="theme">
    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/ui-lightness/jquery-ui-1.10.3.custom.min.css">

    <!-- For syntax highlighting -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- If the query includes 'print-pdf', use the PDF print sheet -->
    <script>
      document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
    </script>
    
    <script src="js/jquery-1.9.1.js"></script>
    <script src="js/jquery-ui-1.10.3.custom.min.js"></script>
    <script src="js/jquery.jsPlumb-1.5.5-min.js"></script>
    
    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
  </head>

  <body>
  
  <!-- Header & Footer -->
  <header>
<!--    <img src="../images/Logo_Personalausweis_mit_Text.png" height="10%" style="position: absolute; bottom: 1%; left: 0.5%; z-index: 1;">-->
    <img src="images/FreieUniversitaetBerlinLogo2007.jpg" height="9%" style="position: absolute; top: 1%; right: 1.5%; z-index: 1;">
<!--    <img src="images/green.png" width="22%" style="height: 0.6%; position: absolute; top: 7.3%; right: 1.8%; z-index: 0;">-->
  </header>
  
  <footer style="position: absolute; left: 0; right: 0; bottom: 1%; width: 100%; height: 3%; background-color: rgba(204, 214, 224, 1); font-family: arial; font-size: 80%; color: rgba( 95, 95, 95, 1);">
      <div style="margin-top: 0.4em; margin-left: 1em;">Seminar Chipkartentechnologien: Der neue Personalausweis, 10. Dezember 2013<div>
  </footer>

    <div class="reveal">

      <!-- Any section element inside of this container is displayed as a slide -->
      <div class="slides" style="top: 57%;">
      
        <!-- ---------------------------- Titel --------------------------- -->
        <section class="title">
          <h1><b>Der neue Personalausweis</b></h1>
          <h4>Seminar Chipkartentechnologie &ndash; 10. Dezember 2013 &ndash; Simon Hohberg</h4>
          <img src="images/perso.png" style="height: 18%; margin-top: 5%;">
          <div>
            <a href="Seminararbeit-nPa.pdf">Schriftliche Ausarbeitung</a>
          </div>
          
          <aside class="notes">
          </aside>
          
        </section>

        <!-- -------------------------- Gliederung ------------------------ -->
        <section>
          <h2>Gliederung</h2>
            <div class="outline">
              <ol style="width: 100%">
                <div style="float: left; width: 51%">
                <li>Einleitung
                  <ol>
                    <li>Gesetzliche Regelung</li>
                    <li>Motivation für den nPa</li>
                  </ol>
                </li>
                
                <li>Überblick nPa
                  <ol>
                    <li>Äußere Eigenschaften</li>
                    <li>Integrierter Chip</li>
                  </ol>
                </li>
                
                <li>Kryptographie
                  <ol>
                    <li>Diffie-Hellman</li>
                    <li>Public Key Infrastruktur</li>
                    <li>Protokolle für Reisedokumente</li>
                    <li>Terminologie</li>
                    <li>PACE</li>
                    <li>EAC</li>
                    <li>EAC &ndash; Terminal Authentication</li>
                    <li>EAC &ndash; Chip Authentication</li>
                  </ol>
                </li>
                </div>
                
                <div style="float: right; width: 47%;">
                <li>eID Anwendung
                  <ol>
                    <li>Szenario</li>
                    <li>eID Infrastruktur</li>
                    <li>Ablauf</li>
                  </ol>
                </li>
                
                <li>Demo</li>
                
                <li>Kritik</li>
                
                <li>Fazit</li>
                </div>
                
              </ol>
            </div>
            <div style="font-size: 0.7em; text-align: right; padding-right: 6%; margin-top: -4%; color: rgba( 95,  95,  95, 1);">[ nPa ... neuer Personalausweis ]</div>

          <aside class="notes">
          </aside>
          
        </section>

        <!-- ------------ Personalausweis im Allgemeinen -------------- -->
        <section>
            <h1 class="new-chapter">Einleitung</h1>
            <aside class="notes">
            </aside>
        </section>
        
        <section>
            <h2>Gesetzliche Regelung</h2>
              <div class= "main">
              <cite style="font-size: 1.2em;">Deutsche [...] sind verpflichtet, einen Ausweis zu besitzen, sobald sie 16 Jahre alt sind [...].</cite><p class="cite-source">Gesetz
  über Personalausweise und den elektronischen Identitätsnachweis</p>
              <ul style="margin-top: 2%;">
                <li>Verifikation der Identität des Bürgers
                  <ul>
                    <li>im Inland</li>
                    <li>im Reiseverkehr (in der EU)</li>
                  </ul>
                </li>
              </ul>
              <div style="display: block; margin: 0 auto 0 auto; width: 75%;">
                <img style="margin-right: 2%; height: 6em;" src="images/Mustermann_PA_2007.jpg">
                <img style="height: 6em;"src="images/Mustermann_PA_2007_RS.jpg">
                <div class="image-source">http://commons.wikimedia.org/wiki/File%3AMustermann_PA_2007.jpg, http://commons.wikimedia.org/wiki/File%3AMustermann_PA_2007_RS.jpg</div>
              </div>
            </div>
            
            <aside class="notes">
              <ul>
                <li>Authentisierung eines Bürgers: Inland und EU</li>
                <li>Gesetzliche Verpflichtung</li>
                <li>alter Personalausweis: gilt als fälschungsicher</li>
              </ul>
            </aside>
            
        </section>
        
        <!-- ------------ Motivation -------------- -->
        <section>
            <h2>Motivation für den nPa</h2>
            <div class= "main">
              
              <ul style="float: left; width: 60%;">

                <li>Terrorismusbekämpfungsgesetz</br>(9. Januar 2002)
                  <ul>
                    <li>biometrische Merkmale</li>
                    <li>Erhöhung der Fälschungssicherheit</li>
                  </ul>
                </li>
                
                <li>Biometrischer Reisepass</br>(1. November 2005)
                  <ul>
                    <li>EG-Verordnung 2252/2004</li>
                  </ul>
                </li>
                
                <li>Authentisierung im Geschäftsverkehr
                  <ul>
                    <li>Authentisierung im Internet</li>
                    <li>Digitale Identität</li>
                    <li>eBusiness und eGovernment</li>
                  </ul>
                </li>
                
              </ul>
              
              <div style="float: right; width: 45%; margin-left: -10%; height: 100%;">
                <img src="images/Fingerprint_picture.svg" style="height: 7em; display: block; margin: 0 auto 2% auto; padding-left: 12%;">
                <div class="image-source" style="margin: 0 0 4% 12%;">http://upload.wikimedia.org/wikipedia/commons/<div style="display: inline-block"></div>b/bf/<div style="display: inline-block"></div>Fingerprint_picture.svg</div>
                <img src="images/passbild-schablone.jpg" style="height: 7em; display: block; margin: auto; padding-left: 4%;">
                <div class="image-source" style="margin: 2% 0 0 6%">http://download.chip.eu/ii/15181220_63bc58c901.jpg</div>
              </div>
              
            </div>
            
            <aside class="notes">
              <ul>
                <li>Änderung des Personalausweisgesetzes</li>
                <li>Zulassung von biometrischen Merkmalen im Ausweis</li>
                <li>Erhöhung der Fälschungssicherheit durch stärkere Bindung an die Person</li>
                <li>Generelle Entwicklung des Ausweis: Erhöhung der Fälschungsicherheit durch stärkere Bindung an Person</li>
                <li>Anti-Terrorkampf</li>
                <li>Ausweis darf in Bezug auf Fälschungssicherheit nicht schwächer sein<br> &rarr; benötigt ebenfalls biometrische Merkmale</li>
                <li>Nutzung des Ausweises für geschäftliche Vorgänge, Entwicklung der Internetwirtschaft</li>
              </ul>
            </aside>
            
        </section>
        
        <!-- ------------ Neuer Personalausweis -------------- -->
        <section>
            <h1 class="new-chapter">Überblick nPa</h1>
            <aside class="notes">
            </aside>
        </section>
        
        <section>
            <h2>Äußere Eigenschaften</h2>
            <div class= "main">
              <ul style="float: left; width: 40%">
                <li>Formfaktor
                  <ul>
                    <li>ID-1 (ISO/IEC 7810)</li>
                  </ul>
                </li>
                <li>Aufgedruckte Daten
                  <ul>
                    <li>wie beim alten nPa</li>
                    <li>gleichgroßes Bild</li>
                  </ul>
                </li>
                <li>Machine Readable Zone (MRZ)
                  <ul>
                    <li>auf der Rückseite</li>
                  </ul>
                </li>
                <li>Logo <i>&#x201E;Zwei Welten&#x201C;</i> des nPa
                </li>
              </ul>
              <div style="float: right; width: 55%; height: 100%">
                <img style="height: 58%; margin: auto; display: block;"src="images/Vorder_und_Rueckseite_Personalausweis.jpg">
                <div class="image-source" style="margin: 2% 0 0 6%">https://www.bsi-fuer-buerger.de/SharedDocs/Bilder/<div style="display: inline-block"></div>DE/BSIFB/<div style="display: inline-block"></div>Personalausweis/<div style="display: inline-block"></div>Vorder_und_Rueckseite_Personalausweis.jpg</div>
              </div>
<!--              <ul>-->
<!--                <li>Aufgedruckte Daten-->
<!--                  <ul>-->
<!--                    <div style="float: left; width: 45%; margin-right: 1.2em">-->
<!--                      <li>Familienname (Doktorgrad, Geburtsname)</li>-->
<!--                      <li>Vorname(n)</li>-->
<!--                      <li>Geburtstag</li>-->
<!--                      <li>Staatsangehörigkeit</li>-->
<!--                      <li>Geburtsort</li>-->
<!--                      <li>Ablaufdatum</li>-->
<!--                      <li>Ausweisnummer</li>-->
<!--                      <li>zufällige Zugangsnummer (Card Access Number, CAN)</li>-->
<!--                      <li>Unterschrift</li>-->
<!--                      <li>Passbild</li>-->
<!--                    </div>-->
<!--                    <div style="float: left; width: 50%;">-->
<!--                      <li>Wohnanschrift (inkl. Postleitzahl)</li>-->
<!--                      <li>Augenfarbe</li>-->
<!--                      <li>Körpergröße</li>-->
<!--                      <li>Ausstellungsdatum</li>-->
<!--                      <li>ausstellende Behörde</li>-->
<!--                      <li>(Ordens-/Künstlername)</li>-->
<!--                      <li>maschinenlesbare Zone (MRZ)-->
<!--                        <ul>-->
<!--                          <li>Dokumentenart</li>-->
<!--                          <li>Ausweisnummer</li>-->
<!--                          <li>Geburtsdatum</li>-->
<!--                          <li>letzter Gültigkeitstag</li>-->
<!--                          <li>Staatsangehörigkeit</li>-->
<!--                          <li>Familienname</li>-->
<!--                          <li>Vornamen</li>-->
<!--                        </ul>-->
<!--                      </li>-->
<!--                    </div>-->
<!--                  </ul>-->
<!--                </li>-->
<!--              </ul>-->
            </div>
            
            <aside class="notes">
              <ul>
                <li></li>
              </ul>
            </aside>
            
        </section>
        
        <!-- ------------ Chip -------------- -->
        <section>
            <h2>Integrierter Chip</h2>
            <div class= "main">
              <ul>
                <li>kontaktloser Chip nach ISO/IEC 14443</li>
                <li>Chip enhält alle aufgedruckten Daten bis auf
                  <ul>
                    <li>Ausweisnummer</li>
                    <li>CAN</li>
                    <li>Unterschrift</li>
                    <li>Augenfarbe</li>
                    <li>Körpergröße</li>
                    <li>Ausstellungsdatum</li>
                    <li>ausstellende Behörde</li>
                  </ul>
                </li>
                <li>Zusätzlich biometrische Daten
                  <ul>
                    <li>digitales Foto</li>
                    <li>optional Fingerabdrücke</li>
                  </ul>
                </li>
              </ul>
              <div style="position: absolute; left: 48%; top: 35%; height: 45%; z-index: -1;">
                <img src="images/personalausweis-layer.jpg">
                <div class="image-source" style="margin: -2% 4% 0 19%">http://www.tagesschau.de/<div style="display: inline-block"></div>multimedia/<div style="display: inline-block"></div>bilder/<div style="display: inline-block"></div>personalausweis120_v-gross16x9.jpg</div>
              </div>
            </div>
            
            <aside class="notes">
              <ul>
                <li></li>
              </ul>
            </aside>
            
        </section>
        
        <section>
            <h2>Integrierter Chip</h2>
            <div class= "main">
              <ul>
                <li>Kommunikation nach ISO/IEC 7816
                  <ul>
                    <li>Teil 4: <span class="doc-title">Interindustry commands for interchange</span>
                      <ul>
                        <li>Application Protocol Data Unit (APDU)</li>
                        <li>Kommando-Antwort-Paare</li>
                        <li>Secure Messaging</li>
                        <li>Struktur von Anwendungen und Daten</li>
                        <li>Dateiorganisation</li>
                        <li>Zugriffsrechte</li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li>ISO 24727
                    <ul>
                      <li>Teil 3:
                        <ul>
                          <li>Schnittstellen zwischen Chipkarten und externen Applikationen (Service Access Layer)</li>
                        </ul>
                      </li>
                    </ul>
                  </li>
              </ul>
              <div style="height: 4em;">
                <img src="images/iso.png">
                <img style="padding-left: 6%" src="images/logo_IEC_2007.jpg">
                <div class="image-source">http://indiciosdigitales.com/wp-content/uploads/2013/03/iso.png, http://www.iecee.org/images/logo%20IEC_2007.jpg</div>
              </div>
            </div>
            
            <aside class="notes">
              <ul>
                <li></li>
              </ul>
            </aside>
            
        </section>
        
        <section style="height: 85%">
            <h2>Integrierter Chip</h2>
            <div class= "main" style="height: 85%">
              <ul>
                <li>Anwendungen
                  <ul>
                    <li>ePass Anwendung (hoheitlich)
                      <ul>
                        <li>Daten der MRZ</li>
                        <li>biometrische Daten</li>
                      </ul>
                    </li>
                    <li>eID Anwendung (Online-Ausweisfunktion, nicht-hoheitlich)
                      <ul>
                        <li>personen- und dokumentenbezogene Daten</li>
                        <li>kein Zugriff auf biometrische Daten</li>
                        <li>kann nach Wunsch deaktiviert werden (und wieder aktiviert)</li>
                      </ul>
                    </li>
                    <li>Qualifizierte elektronische Signatur (nicht-hoheitlich)</li>
                  </ul>
                </li>
              </ul>
              <div style="height: 48%; padding: 0 0; display: block">
                <img src="images/ePass.jpg" style="height: 32%; padding: 9% 0.5em;">
                <img src="images/Logo_Personalausweis_mit_Text.gif" style="height: 32%; padding: 9% 0.5em;">
                <img src="images/Digitale-Signatur.jpg" style="height: 32%; padding: 9% 0.5em;">
                <div class="image-source" style="margin-top: -10%">http://www.quickly-player.com/quickly-player/files/images/Symbol%20f%C3%BCr%20Elektronischen%20Reisepass%20<div style="display: inline-block"></div>mit%20biometrischen%20<div style="display: inline-block"></div>Daten%20-%20ePass.jpg, https://www.bsi-fuer-buerger.de/SharedDocs/Bilder/DE/BSIFB/Personalausweis/Logo_Personalausweis_mit_Text.gif, http://blog.otto-office.com/wp-content/uploads/2011/02/Digitale-Signatur.jpg</div>
              </div>
            </div>
            
            <aside class="notes">
              <ul>
                <li></li>
              </ul>
            </aside>
            
        </section>
        
        <!-- ------------ Kryptographie -------------- -->
        <section>
            <h1 class="new-chapter">Kryptographie</h1>
            <aside class="notes">
            </aside>
        </section>
        
<!--        <section>-->
<!--            <h3>Technische Spezifikation</h3>-->
<!--            <h4>BSI Technische Richtlinien</h4>-->
<!--            <div class= "main">-->
<!--              <ul>-->
<!--                <li>BSI TR-03127: <span class="doc-title">Architektur elektronischer Personalausweis und elektronischer Aufenthaltstitel</span></li>-->
<!--                <li>BSI TR-03110: <span class="doc-title">Advanced Security Mechanisms for Machine Readable Travel Documents</span>-->
<!--                  <ul>-->
<!--                    <li>Sicherheitsmechanismen zum Zugriff auf Daten/Funktionen</li>-->
<!--                    <li>Password Authenticated Connection Establishment (PACE)</li>-->
<!--                    <li>Terminal Authentication</li>-->
<!--                    <li>Chip Authentication</li>-->
<!--                  </ul>-->
<!--                </li>-->
<!--                <li>BSI TR-03112: <span class="doc-title">eCard API Framework</span>-->
<!--                  <ul>-->
<!--                    <li>Standardisiertes Interface für die verschiedenen Smartcard Anwendungen (eGK, ePA, ePass, ELSTER, ELENA)</li>-->
<!--                    <li>Vereinheitlichte Kommunikation von Anwendungen und Chipkarten</li>-->
<!--                  </ul>-->
<!--                </li>-->
<!--              </ul>-->
<!--            </div>-->
<!--            -->
<!--            <aside class="notes">-->
<!--              <ul>-->
<!--                <li></li>-->
<!--              </ul>-->
<!--            </aside>-->
<!--            -->
<!--        </section>-->
        
        <section>
            <h2>Diffie-Hellman</h2>
            <div class= "main">
              <ul>
                <li>Austausch eines symmetrischen Schlüssels über einen unsicheren Kanal</li>
                <div style="display: block; width: 90%; margin: 0 auto;">
                  <img src="images/Diffie-Hellman-Schlüsselaustausch.svg" style="height: 11em;">
                  <div class="image-source" style="">http://upload.wikimedia.org/wikipedia/commons/1/13/Diffie-Hellman-Schl%C3%BCsselaustausch.svg</div>
                </div>
                <li>Problem: Man-in-the-Middle</li>
              </ul>
            </div>
            
            <aside class="notes">
              <ul>
                <li></li>
              </ul>
            </aside>
            
        </section>
        
        <section>
            <h2>Public Key Infrastruktur</h2>
            <div class= "main">
              <ul>
                <li>Hierarchie von Berechtigungszertifikaten</li>
                <li>Wurzelzertifikat ist dem Ausweis bekannt</li>
              </ul>
              <div style="display: block; width: 90%; margin: auto;">
                <img src="images/pki.png" style="height: 12em">
                <div class="image-source" style="">"Sicherheitsmechanismen für kontaktlose Chips im deutschen elektronischen Personalausweis", Jens Bender, Dennis Kügler, Marian Margraf, Ingo Naumann</div>
              </div>
            </div>
            
            <aside class="notes">
              <ul>
                <li></li>
              </ul>
            </aside>
            
        </section>
        
        <section>
            <h2>Passive & Aktive Authentisierung</h2>
            <div class= "main">
              <ul>
                <li>Standardisierung von Protokollen für Reisedokumente durch <i>International Civil Aviation Organization</i> (ICAO)</li>
                <li>Passive Authentisierung (Pflicht)
                  <ul>
                    <li>signierte Daten</li>
                    <li>in Personalisierungsphase Signatur durch den Hersteller</li>
                    <li>Authentizität der Daten, verhindert kein Klonen</li>
                  </ul>
                </li>
                <li>Aktive Authentisierung (optional)
                  <ul>
                    <li>Chip besitzt eigenes Schlüsselpaar</li>
                    <li>Challenge-Response-Protokol</li>
                    <li>Datenschutzprobleme (Challenge kann Datum und Ort enthalten)</li>
                  </ul>
                </li>
                <li>Access Control (Basic Access Control, optional)
                  <ul>
                    <li>Erfordert physikalischen Zugang zum Dokument</li>
                    <li>Verwendung symmetrischer Schlüssel abgeleitet von MRZ</li>
                  </ul>
                </li>
              </ul>
            </div>
            
            <aside class="notes">
              <ul>
                <li></li>
              </ul>
            </aside>
            
        </section>
        
        <section>
            <h2>Terminologie</h2>
            <div class= "main">
              <ul>
                <li><b>P</b>roximity <b>I</b>ntegrated <b>C</b>ircuit <b>C</b>ard (PICC)<br>&rarr;kontaktlose Chipkarte</li>
                <li><b>P</b>roximity <b>C</b>oupling <b>D</b>evice (PCD)<br>&rarr;Lesegerät</li>
                <li><b>Me</b>ssage <b>A</b>uthentication <b>C</b>ode (MAC)<br>&rarr;Signatur</li>
              </ul>
              <div style="display: block; margin: -3% auto 0 auto; width: 20em; padding-left: 25%;">
              <div style="z-index: 1; background-color: rgba(255,255,255,0.7); position: absolute; width: 100%; height: 40%;"></div>
                <img src="images/software_terminology.jpg" style="z-index: -1; height: 8em">
                <div class="image-source" style="">http://www.the9gag.com/images/pictuers/software_terminology.jpg</div>
              </div>
            </div>
            
            <aside class="notes">
              <ul>
                <li></li>
              </ul>
            </aside>
            
        </section>
        
        
        <!-- ----------- PACE ------------- -->
        <section>
            <h2>PACE</h2>
            <div class= "main">
              <ul>
                <li><b>P</b>assword <b>A</b>uthenticated <b>C</b>onnection <b>E</b>stablishment
                </li>
                <li>Überprüfung der PIN (PIN wird nicht übertragen)</li>
                <li>Diffie-Hellman Schlüsselaustausch für sichere Kommunikation
                  <ul>
                    <li>Ableiten starker Schlüssel</li>
                    <li>unabhängig von Entropy der PIN</li>
                  </ul>
                </li>
                <li>Nachfolger von Basic Access Control</li>
              </ul>
              <div style="display: block; width: 90%; height: 30%; margin: -2% auto;">
                <img src="images/PACE-flag.svg" style="height: 5em; padding: 2% 2%;">
                <img src="images/pace-yourself2.jpg" style="height: 6em; padding: 0 2%;">
                <div class="image-source" style="margin-top: -3%;">http://upload.wikimedia.org/wikipedia/commons/e/ee/PACE-flag.svg, http://www.redefininglifecoaching.com/wp-content/uploads/2013/04/pace-yourself2.jpg</div>
              </div>
            </div>
            
            <aside class="notes">
              <ul>
                <li></li>
              </ul>
            </aside>
            
        </section>
        
        <section>
            <h2>PACE</h2>
            <ul id="pace-graph" class= "sequence fragment" data-fragment-index="1">
            
              <li class="title">
                <ul>
                  <li>PICC</li>
                  <li>PCD</li>
                </ul>
              </li>
              
              <li>
                <ul>
                  <li>wähle zufällige Nonce <i>s</i></li>
                </ul>
              </li>
              
              <li>
                <ul>
                  <li id="picc1">verschlüssle <i>s</i> mit PIN</li>
                  <li id="pcd1">entschlüssle <i>s</i> mit PIN</li>
                </ul>
              </li>
              
              <li>
                <ul>
                  <li>berechne Domain Parameter mit <i>s</i></li>
                  <li>berechne Domain Parameter mit <i>s</i></li>
                </ul>
              </li>
              
              <li>
                <ul>
                  <li id="picc2">zufälliges, temporäres Schlüsselpaar<br>(<i>Sec<sub>PICC</sub></i>, <i>Pub<sub>PICC</sub></i>)</li>
                  <li id="pcd2">zufälliges, temporäres Schlüsselpaar<br>(<i>Sec<sub>PCD</sub></i>, <i>Pub<sub>PCD</sub></i>)</li>
                </ul>
              </li>
              
              <li>
                <ul>
                  <li>berechne geheime Schlüssel <i>K<sub>Enc</sub></i>, <i>K<sub>Mac</sub></i> aus shared secret</li>
                  <li>berechne geheime Schlüssel <i>K<sub>Enc</sub></i>, <i>K<sub>Mac</sub></i> aus shared secret</li>
                </ul>
              </li>
              
              <li>
                <ul>
                  <li id="picc3">berechne Authentifizierungs-Token<br><i>T<sub>PICC</sub> = MAC(Pub<sub>PCD</sub></i>)</li>
                  <li id="pcd3">berechne Authentifizierungs-Token<br><i>T<sub>PCD</sub> = MAC(Pub<sub>PICC</sub></i>)</li>
                </ul>
              </li>
              
              <li>
                <ul>
                  <li>überprüfe <i>T<sub>PCD</i></sub></li>
                  <li>überprüfe <i>T<sub>PICC</i></sub></li>
                </ul>
              </li>
              
            </ul>
            
            <aside class="notes">
              <ul>
                <li></li>
              </ul>
            </aside>
            
        </section>
        
        <!-- ----------- EAC ------------- -->
        <section>
          <h2>EAC</h2>
            <div class= "main">
              <ul>
                <li><b>E</b>xtended <b>A</b>ccess <b>C</b>ontrol (EAC)</li>
                <li>Terminal Authentication
                  <ul>
                    <li>Dokument überprüft Berechtigung des Terminals</li>
                  </ul>
                </li>
                <li>Chip Authentication
                <ul>
                  <li>Terminal überprüft Echtheit des Dokuments</li>
                </ul>
                </li>
              </ul>
              <div style="height: 8.5em; width: 90%; display: block; margin: auto;">
                <img src="images/authentication.jpg">
                <div class="image-source">http://www.troll.me/images/xzibit-yo-dawg/yo-dawg-we-herd-u-liek-authentication.jpg</div>
              </div>
            </div>
            
            <aside class="notes">
              <ul>
                <li></li>
              </ul>
            </aside>
        </section>
        
        <!-- ----------- Terminal Authentication ------------- -->
        <section>
            <h2>EAC &ndash; Terminal Authentication</h2>
            <ul id="ta-graph" class= "sequence fragment" data-fragment-index="1">
            
              <li class="title">
                <ul>
                  <li>PICC</li>
                  <li>PCD</li>
                </ul>
              </li>
              
              <li>
                <ul>
                  <li id="picc4">überprüfe Zertifikatskette, extrahiere öfftl. Schlüssel <i>Pub<sub>Term</sub></i></li>
                  <li id="pcd4" style="padding: 0.5% 0;">sende Zertifikatskette<br>(Start: CVCA, Ende: Terminalzertifikat)</li>
                </ul>
              </li>
              
              <li>
                <ul>
                  <li id="picc5" style="padding: 5.6% 0;"></li>
                  <li id="pcd5">Erzeuge neues Schlüsselpaars<br>(<i>Sec'<sub>PCD</sub></i>, <i>Pub'<sub>PCD</sub></i>)</li>
                </ul>
              </li>
              
              <li>
                <ul>
                  <li id="picc6">wähle zufällige Challenge <i>r<sub>PICC</sub></i></li>
                  <li id="pcd6" style="padding: 3.9% 0;"></li>
                </ul>
              </li>
              
              <li>
                <ul>
                  <li id="picc7" style="padding: 3.9% 0;">überprüfe <i>s<sub>PCD</sub></i></li>
                  <li id="pcd7">erzeuge Signatur mit <i>Sec<sub>Term</sub><br></i><i>s<sub>PCD</sub> = sign(r<sub>PICC</sub> || Pub'<sub>PCD</sub>)</i></li>
                </ul>
              </li>
            </ul>
            
            <aside class="notes">
              <ul>
                <li></li>
              </ul>
            </aside>
            
        </section>
        
        
        <!-- ----------- Chip Authentication ------------- -->
        <section>
            <h2>EAC &ndash; Chip Authentication</h2>
            <ul id="ca-graph" class= "sequence fragment" data-fragment-index="1">
            
              <li class="title">
                <ul>
                  <li>PICC</li>
                  <li>PCD</li>
                </ul>
              </li>
              
              <li>
                <ul>
                  <li id="picc8">sende statischen öfftl. Schlüssel <i>Pub<sub>PICC</sub></i></li>
                  <li id="pcd8" style="padding: 3.8% 0;"></li>
                </ul>
              </li>
              
              <li>
                <ul>
                  <li id="picc9">vergleiche <i>Pub'<sub>PCD</sub></i> aus TA und erhaltenen Schlüssel</li>
                  <li id="pcd9">sende öfftl. Schlüssel <i>Pub'<sub>PCD</sub></i></li>
                </ul>
              </li>
              
              <li>
                <ul>
                  <li>berechne gemeinsames Geheimnis <i>K</i></li>
                  <li>berechne gemeinsames Geheimnis <i>K</i></li>
                </ul>
              </li>
              
              <li>
                <ul>
                  <li>wähle zufällige Nonce <i>r'<sub>PICC</sub></i>,<br>erzeuge Schlüssel <i>K'<sub>Enc</sub></i>,<br><i>K'<sub>Mac</sub></i> in Abhängigkeit von <i>K</i> und <i>r'<sub>PICC</sub></i></li>
                  <li></li>
                </ul>
              </li>
              
              <li>
                <ul>
                  <li id="picc10" style="padding: 0.5% 0;">berechne Token<br><i>T<sub>PICC</sub></i> = MAC(<i>Pub'<sub>PCD</sub></i>), sende <i>r'<sub>PICC</sub></i> und <i>T<sub>PICC</sub></i></li>
                  <li id="pcd10">erzeuge Schlüssel <i>K'<sub>Enc</sub></i>,<br><i>K'<sub>Mac</sub></i>,<br>überprüfe <i>T<sub>PICC</sub></i></li>
                </ul>
              </li>
              
            </ul>
            
            <aside class="notes">
              <ul>
                <li></li>
              </ul>
            </aside>
            
        </section>
        
        
        <!-- ---------- eID Anwendung ---------- -->
        
          <section>
            <h1 class="new-chapter">eID Anwendung</h1>

            <aside class="notes">
              <ul>
                <li></li>
              </ul>
            </aside>
          </section>

          <section>
            <h2>Szenario</h2>
            <div class= "main" style="margin-top: -4%">
              <ul>
                <li>Anforderungen
                  <ul>
                    <li>Kontrolle des Bürgers über ausgelesene Daten (welche, an wen)</li>
                    <li>Besitz allein ungenügend für das Auslesen<br>&rarr; Kombination Wissen & Besitz (eingeschränkt)</li>
                    <li>Schutz vor Brute-Force Attacken auf PIN</li>
                    <li>Schutz vor Denial-Of-Service Attacken</li>
                    <li>keine Weitergabe nachweislich vertrauenswürdiger Daten</li>
                  </ul>
                </li>
                <li>Nutzung von Internetdiensten (Verwaltung, Wirtschaft)
                  <ul>
                    <li>korrekte, vertrauenswürdige Daten</li>
                    <li>Dienstanbieter benötigt Berechtigungszertifikat</li>
                    <li>&#x201E;Terminal&#x201C; ist über Netzwerk mit Ausweis verbunden</li>
                  </ul>
                </li>
                <li>Zusätzliche Funktionen (Datensparsamkeit)
                  <ul>
                    <li>Altersverifikation</li>
                    <li>Wohnortabfrage</li>
                    <li>Pseudonym-Funktion</li>
                  </ul>
                </li>
                </ul>
            </div>
            
            <aside class="notes">
              <ul>
                <li></li>
              </ul>
            </aside>
            
        </section>

          <section>
            <h2>eID Infrastruktur</h2>
            <div class= "main">
              <ul>
                <li>Dienstanbieter</li>
                <li>eID-Client
                  <ul>
                    <li>verbindet Ausweis und eID-Server</li>
                  </ul>
                </li>
                <li>eID-Server
                  <ul>
                    <li>&#x201E;remote&#x201C; Terminal</li>
                  </ul>
                </li>
                <img src="images/infrastruktur.png" style="display:block; max-height: 55%; margin: 0 auto 0 auto;">
                <div class="image-source" style="display:block; margin: 1% auto 0 5%;">BSI-TR 03127: &#x201E;Architektur elektronischer Personalausweis und elektronischer Aufenthaltstitel&#x201C;</div>
              </ul>
            </div>
            
            <aside class="notes">
              <ul>
                <li></li>
              </ul>
            </aside>
            
        </section>
        
        <section>
            <h2>Ablauf</h2>
            <div class= "main" style="margin-top: -3%">
              <ul>
                <li>Nutzer ruft Webseite des Dienstanbieters auf</li>
                <li>Dienstanbieter erstellt Anfrage und leitet den Nutzer an den eID-Server weiter</li>
                <li>eID-Server erhält Anfrage des Dienstanbieters und aktiviert eID-Client beim Nutzer</li>
                <li>eID-Client zeigt Zertifikat des Dienstanbieters, angefragte Attribute und fordert PIN-Eingabe</li>
                <img src="images/infrastruktur.png" style="display:block; height: 7em; max-height: 50%; margin: 0 auto 0 auto;">
                <div class="image-source" style="display:block; margin: 1% auto 0 5%;">BSI-TR 03127: &#x201E;Architektur elektronischer Personalausweis und elektronischer Aufenthaltstitel&#x201C;</div>
              </ul>
            </div>
            
            <aside class="notes">
              <ul>
                <li></li>
              </ul>
            </aside>
            
        </section>
        
        <section>
            <h2>Ablauf</h2>
            <div class= "main" style="margin-top: -3%">
              <ul>
                <li>eID-Client führt PACE durch</li>
                <li>eID-Client und eID-Server führen Terminal und Chip Authentication durch</li>
                <li>eID-Server leitet den Nutzer mit Antwort an Dienstanbieter weiter</li>
                <img src="images/infrastruktur.png" style="display:block; height: 7em; max-height: 55%; margin: 5% auto 0 auto;">
                <div class="image-source" style="display:block; margin: 1% auto 0 5%;">BSI-TR 03127: &#x201E;Architektur elektronischer Personalausweis und elektronischer Aufenthaltstitel&#x201C;</div>
              </ul>
            </div>
            
            <aside class="notes">
              <ul>
                <li></li>
              </ul>
            </aside>
            
        </section>
        
        <!-- ------------Demo ----------------- -->
        
<!--        <section>-->
<!--            <h1 class="new-chapter">Demo</h1>-->

<!--            <aside class="notes">-->
<!--              <ul>-->
<!--                <li></li>-->
<!--              </ul>-->
<!--            </aside>-->
<!--            -->
<!--        </section>-->
<!--        -->
<!--        <section>-->
<!--          <h2>Demo</h2>-->
<!--            <div class= "main" style="height: 17em; width: 90% ">-->
<!--              <iframe id="demo" src="https://elanpa.fokus.fraunhofer.de/wahl/main.stadtportalAction" style="width: 100%; height: 100%;"></iframe>-->
<!--              <button id="overlay-button" style="padding: 0 2px 0 1px;" onclick="doOverlay();">&#x21F1;</button>-->
<!--              <div id="console" style="visibility: hidden; margin-top: -1.3em;background-color: rgba(0,0,0,0.8); position: fixed; top: 66.1%; left: 0; width: 100%; height: 40%; overflow: scroll; padding: 0.5em 0.5em 0.5em 0.5em; font-size: 0.5em; color: rgba(0, 200, 0, 1); line-height: 1.3em;">-->
<!--              </div>-->
<!--              <button id="stop-loading" style="z-index: 2; visibility: hidden; position: fixed; top: 63%; right: 0;" onclick="window.clearInterval(timer);">Stop</button>-->
<!--              </script>-->
<!--              <script>-->
<!--                isOverlay = false;-->
<!--                overlayButton = document.getElementById('overlay-button');-->
<!--                stopButton = document.getElementById('stop-loading');-->
<!--                console = document.getElementById('console');-->
<!--                function doOverlay() {-->
<!--                  if (!isOverlay) {-->
<!--                    document.getElementById('demo').className += ' overlay';-->
<!--                    overlayButton.className += ' close-overlay';-->
<!--                    overlayButton.innerHTML = '&#x21F2;';-->
<!--                    console.style.setProperty('visibility', 'visible');-->
<!--                    stopButton.style.setProperty('visibility', 'visible');-->
<!--                    timer = setInterval(loadLog, 100);-->
<!--                  } else {-->
<!--                    window.clearInterval(timer);-->
<!--                    document.getElementById('demo').className = document.getElementById('demo').className.replace( /(?:^|\s)overlay(?!\S)/g, '' );-->
<!--                    overlayButton.className = overlayButton.className.replace( /(?:^|\s)close-overlay(?!\S)/g , '' );-->
<!--                    overlayButton.innerHTML = '&#x21F1;';-->
<!--                    console.style.setProperty('visibility', 'hidden');-->
<!--                    stopButton.style.setProperty('visibility', 'hidden');-->
<!--                  }-->
<!--                  isOverlay = !isOverlay;-->
<!--                }-->
<!--                -->
<!--                function loadLog() {-->
<!--                  var req = new XMLHttpRequest();-->
<!--                  req.onreadystatechange = function() {-->
<!--                    if (req.readyState == 4 && req.status == 200) {-->
<!--                      console.innerText = req.responseText;-->
<!--                      console.scrollTop = console.scrollHeight;-->
<!--                    }-->
<!--                  };-->
<!--                  req.open("GET", "eid.log", true);-->
<!--                  req.send()-->
<!--                }-->
<!--              </script>-->
<!--            </div>-->
<!--        </section>-->
        
        <!-- ------------ Kritik -------------- -->
        
        <section>
            <h1 class="new-chapter">Kritik</h1>

            <aside class="notes">
              <ul>
                <li></li>
              </ul>
            </aside>
            
        </section>
        
        <section>
            <h2>Kritik</h2>
            <div class= "main">
              <ul style="width: 55%; float: left">
                <li>unsicherer offizieller eID-Client
                  <ul>
                    <li>Sicherheitslücke im Updatemechanismus</li>
                  </ul>
                </li>
                <li>unsichere PIN-Eingabe
                  <ul>
                    <li>Entwendung der PIN durch Key-Logger</li>
                    <li>Missbrauch möglich, wenn Ausweis im Lesegerät</li>
                    <li>&#x201E;Komfort-Lesegerät&#x201C; verhindert PIN-Diebstahl</li>
                  </ul>
                </li>
              </ul>
              <div style="width: 28%; float: right">
                <img src="images/500px-Logo_CCC.svg.png">
                <div class="image-source" style="display:block; margin: -3% 0 0 0;">http://upload.wikimedia.org<div style="display: inline-block"></div>/wikipedia/<div style="display: inline-block"></div>de/thumb/d/d1/<div style="display: inline-block"></div>Logo_CCC.svg/500px-Logo_CCC.svg.png</div>
                <img src="images/trojan_horse.jpg" style="margin-top: 0;">
                <div class="image-source" style="display:block; margin: -8% 0 0 0;">http://th01.deviantart.net/<div style="display: inline-block"></div>fs71/<div style="display: inline-block"></div>PRE/i/2012/<div style="display: inline-block"></div>121/d/d/<div style="display: inline-block"></div>trojan_horse<div style="display: inline-block"></div>___pencil_by_jacktzekov-d4y7lo4.jpg</div>
              </div>
            </div>
            
            <aside class="notes">
              <ul>
                <li></li>
              </ul>
            </aside>
            
        </section>
        
        <!-- ------------ Fazit -------------- -->
        
        <section>
            <h1 class="new-chapter">Fazit</h1>

            <aside class="notes">
              <ul>
                <li></li>
              </ul>
            </aside>
            
        </section>
        
        <section>
            <h2>Fazit</h2>
            <div class= "main">
              <ul>
                <li>sehr komplexe Kryptographie</li>
                <li>bisher sicher</li>
                <li>sehr lange Gültigkeit von 10 Jahren (ab 24 Jahren, sonst 6 Jahre)</li>
                <li>Akzeptanzproblem</li>
              </ul>
              <div style="height: 5em">
                <img src="images/Preussischer_Personalausweis.jpg" style="padding: 5% 0.1em;">
                <img src="images/Mustermann_PA_2007.jpg" style="padding: 5% 0.1em;">
                <img src="images/Elektronischer-Personalausweis.jpg" style="padding: 5% 0.1em;">
                <div class="image-source" style="margin-top: -7%;">http://upload.wikimedia.org/wikipedia/de/2/2f/Preussischer_Personalausweis.jpg, http://commons.wikimedia.org/<div style="display: inline-block"></div>wiki/<div style="display: inline-block"></div>File%3AMustermann_PA_2007.jpg, http://www.pcgameshardware.de/screenshots/811x455/2009/12/Elektronischer-Personalausweis.jpg</div>
              </div>
            </div>
            
            <aside class="notes">
              <ul>
                <li></li>
              </ul>
            </aside>
            
        </section>
        
        <section>
            <h1 class="new-chapter">Danke.</h1>

            <aside class="notes">
              <ul>
                <li></li>
              </ul>
            </aside>
            
        </section>
      </div>

    </div>

    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.js"></script>

    <script>

      // Full list of configuration options available here:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        controls: false,
        keyboard: true,
        progress: true,
        history: true,
        center: false, // vertical center
        loop: false,
        
        width: 1024,
        height: 768,
        minScale: 0.2,
        maxScale: 1,
        margin: 0,
        
        theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
        transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

        // Optional libraries used to extend on reveal.js
        dependencies: [
          { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
          { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
          { src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
          { src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
        ]
      });
      
      
      paceGraphDrawn = false;
      taGraphDrawn = false;
      caGraphDrawn = false;
      Reveal.addEventListener( 'fragmentshown', function(event) {
        if (event.fragment.id == "pace-graph" && !paceGraphDrawn) {
          paceGraphDrawn = true;
          var paceGraph = jsPlumb.getInstance( {
            PaintStyle: { 
              lineWidth: 4, 
              strokeStyle: "#0066CC", 
              outlineColor: "#CCD6E0", 
              outlineWidth: 1 
            },
            Endpoint:[ "Dot" ],
            EndpointStyle : { fillStyle: "#FFFFFF" },
            Anchor : [ 0.5, 0.5, 1, 1 ],
            Connector: "Straight"
          });
          
          paceGraph.Defaults.Container = $("#pace-graph");
          
          paceGraph.connect({
            source: "picc1",
            target: "pcd1",
            anchors: [ [1, 1, 0, 0], [0, 1, 0, 0] ],
            endpoints: ["Blank", "Blank"],
            overlays : [
              ["Label", {
                cssClass: "graph-label",
                label : "<div class='ui-icon ui-icon-locked' style='float: right'></div><i>s</i>", 
                location: 0.5,
                id: "label"
                }
              ],
              ["Arrow", {
                location: 1,
                foldback: 1
              }]
            ],
            detachable: false
          });
          
          paceGraph.connect({
            source: "picc2",
            target: "pcd2",
            anchors: [ [1, 0.5, 0, 0], [0, 0.5, 0, 0] ],
            endpoints: ["Blank", "Blank"],
            overlays : [
              ["Label", {
                cssClass: "graph-label",
                label : "<div class='ui-icon ui-icon-key' style='float: right'></div><i>Pub<sub>PICC</sub></i>", 
                location: 0.5,
                id: "label"
                }
              ],
              ["Arrow", {
                location: 1,
                foldback: 1
              }]
            ],
            detachable: false
          });
          
          paceGraph.connect({
            source: "pcd2",
            target: "picc2",
            anchors: [ [0, 0.9, 0, 0], [1, 0.9, 0, 0] ],
            endpoints: ["Blank", "Blank"],
            overlays : [
              ["Label", {
                cssClass: "graph-label",
                label : "<div class='ui-icon ui-icon-key' style='float: right'></div><i>Pub<sub>PCD</sub></i>", 
                location: 0.5,
                id: "label"
                }
              ],
              ["Arrow", {
                location: 1,
                foldback: 1
              }]
            ],
            detachable: false
          });
          
          paceGraph.connect({
            source: "picc3",
            target: "pcd3",
            anchors: [ [1, 0.8, 0, 0], [0, 0.8, 0, 0] ],
            endpoints: ["Blank", "Blank"],
            overlays : [
              ["Label", {
                cssClass: "graph-label",
                label : "<div class='ui-icon ui-icon-bullet' style='float: right'></div><i>T<sub>PICC</sub></i>", 
                location: 0.5,
                id: "label"
                }
              ],
              ["Arrow", {
                location: 1,
                foldback: 1
              }]
            ],
            detachable: false
          });
          
          paceGraph.connect({
            source: "pcd3",
            target: "picc3",
            anchors: [ [0, 1.3, 0, 0], [1, 1.3, 0, 0] ],
            endpoints: ["Blank", "Blank"],
            overlays : [
              ["Label", {
                cssClass: "graph-label",
                label : "<div class='ui-icon ui-icon-bullet' style='float: right'></div><i>T<sub>PCD</sub></i>", 
                location: 0.5,
                id: "label"
                }
              ],
              ["Arrow", {
                location: 1,
                foldback: 1
              }]
            ],
            detachable: false
          });
          
        } else if (event.fragment.id == "ta-graph" && !taGraphDrawn) {
          taGraphDrawn = true;
          var taGraph = jsPlumb.getInstance( {
            PaintStyle: { 
              lineWidth: 4, 
              strokeStyle: "#0066CC", 
              outlineColor: "#CCD6E0", 
              outlineWidth: 1 
            },
            Endpoint:[ "Dot" ],
            EndpointStyle : { fillStyle: "#FFFFFF" },
            Anchor : [ 0.5, 0.5, 1, 1 ],
            Connector: "Straight"
          });
          
          taGraph.Defaults.Container = $("#ta-graph");
          
          taGraph.connect({
            source: "pcd4",
            target: "picc4",
            anchors: [ [0, 0.6, 0, 0], [1, 0.5, 0, 0] ],
            endpoints: ["Blank", "Blank"],
            overlays : [
              ["Label", {
                cssClass: "graph-label",
                label : "<div class='ui-icon ui-icon-link' style='float: right'></div><div class='ui-icon ui-icon-script' style='float: right'></div><i>Zertifikatskette</i>",
                location: 0.5,
                id: "label"
                }
              ],
              ["Arrow", {
                location: 1,
                foldback: 1
              }]
            ],
            detachable: false
          });
          
          taGraph.connect({
            source: "pcd5",
            target: "picc5",
            anchors: [ [0, 0.5, 0, 0], [1, 0.6, 0, 0] ],
            endpoints: ["Blank", "Blank"],
            overlays : [
              ["Label", {
                cssClass: "graph-label",
                label : "<div class='ui-icon ui-icon-key' style='float: right'></div><i>Pub'<sub>PCD</sub></i>", 
                location: 0.5,
                id: "label"
                }
              ],
              ["Arrow", {
                location: 1,
                foldback: 1
              }]
            ],
            detachable: false
          });
          
          taGraph.connect({
            source: "picc6",
            target: "pcd6",
            anchors: [ [1, 0.8, 0, 0], [0, 0.9, 0, 0] ],
            endpoints: ["Blank", "Blank"],
            overlays : [
              ["Label", {
                cssClass: "graph-label",
                label : "<div class='ui-icon ui-icon-star' style='float: right'></div><i>r<sub>PICC</sub></i>", 
                location: 0.5,
                id: "label"
                }
              ],
              ["Arrow", {
                location: 1,
                foldback: 1
              }]
            ],
            detachable: false
          });
          
          taGraph.connect({
            source: "pcd7",
            target: "picc7",
            anchors: [ [0, 0.6, 0, 0], [1, 0.8, 0, 0] ],
            endpoints: ["Blank", "Blank"],
            overlays : [
              ["Label", {
                cssClass: "graph-label",
                label : "<div class='ui-icon ui-icon-pencil' style='float: right'></div><i>s<sub>PCD</sub></i>", 
                location: 0.5,
                id: "label"
                }
              ],
              ["Arrow", {
                location: 1,
                foldback: 1
              }]
            ],
            detachable: false
          });
        } else if (event.fragment.id == "ca-graph" && !caGraphDrawn) {
          caGraphDrawn = true;
          var caGraph = jsPlumb.getInstance( {
            PaintStyle: { 
              lineWidth: 4, 
              strokeStyle: "#0066CC", 
              outlineColor: "#CCD6E0", 
              outlineWidth: 1 
            },
            Endpoint:[ "Dot" ],
            EndpointStyle : { fillStyle: "#FFFFFF" },
            Anchor : [ 0.5, 0.5, 1, 1 ],
            Connector: "Straight"
          });
          
          caGraph.Defaults.Container = $("#ca-graph");
          
          caGraph.connect({
            source: "picc8",
            target: "pcd8",
            anchors: [ [1, 0.55, 0, 0], [0, 0.6, 0, 0] ],
            endpoints: ["Blank", "Blank"],
            overlays : [
              ["Label", {
                cssClass: "graph-label",
                label : "<div class='ui-icon ui-icon-key' style='float: right'></div><i>Pub<sub>PICC</sub></i>",
                location: 0.5,
                id: "label"
                }
              ],
              ["Arrow", {
                location: 1,
                foldback: 1
              }]
            ],
            detachable: false
          });
          
          caGraph.connect({
            source: "pcd9",
            target: "picc9",
            anchors: [ [0, 0.8, 0, 0], [1, 0.6, 0, 0] ],
            endpoints: ["Blank", "Blank"],
            overlays : [
              ["Label", {
                cssClass: "graph-label",
                label : "<div class='ui-icon ui-icon-key' style='float: right'></div><i>Pub'<sub>PCD</sub></i>", 
                location: 0.5,
                id: "label"
                }
              ],
              ["Arrow", {
                location: 1,
                foldback: 1
              }]
            ],
            detachable: false
          });
          
          caGraph.connect({
            source: "picc10",
            target: "pcd10",
            anchors: [ [1, 0.8, 0, 0], [0, 0.8, 0, 0] ],
            endpoints: ["Blank", "Blank"],
            overlays : [
              ["Label", {
                cssClass: "graph-label",
                label : "<div class='ui-icon ui-icon-bullet' style='float: right'></div><i style='float: right'>, T<sub>PICC</sub></i><div class='ui-icon ui-icon-star' style='float: right'></div><i>r'<sub>PICC</sub></i>", 
                location: 0.5,
                id: "label"
                }
              ],
              ["Arrow", {
                location: 1,
                foldback: 1
              }]
            ],
            detachable: false
          });
        }
      }, false );

    </script>

  </body>
</html>
